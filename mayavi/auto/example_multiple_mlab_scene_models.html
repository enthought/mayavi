

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Multiple mlab scene models example &mdash; Mayavi 3.4.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.4.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Mayavi 3.4.2 documentation" href="../index.html" />
    <link rel="up" title="Example gallery" href="examples.html" />
    <link rel="next" title="Mlab interactive dialog example" href="example_mlab_interactive_dialog.html" />
    <link rel="prev" title="Multiple engines example" href="example_multiple_engines.html" />
<style type="text/css">
  body {
    /* Very bottom copyright, etc. info */
    background: #4d598d;
  }

  .documentwrapper {
    /* Blank area on left bar */
    background: #24326e;
  }

  .related {
    /* Long horizontal nav bars */
    background: #3c4b8a!important;
  }

  .sphinxsidebarwrapper {
    /* Filled part of left sidebar */
    background: #24326e;
  }

  a {
    color: #253370;
  }

  .sphinxsidebarwrapper a {
    color: #f2f2f2!important;
  }
</style>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="example_mlab_interactive_dialog.html" title="Mlab interactive dialog example"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="example_multiple_engines.html" title="Multiple engines example"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Mayavi 3.4.2 documentation</a> &raquo;</li>
          <li><a href="examples.html" accesskey="U">Example gallery</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="multiple-mlab-scene-models-example">
<span id="example-multiple-mlab-scene-models"></span><h1>Multiple mlab scene models example<a class="headerlink" href="#multiple-mlab-scene-models-example" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div>Example showing a dialog with multiple embedded scenes.</div></blockquote>
<p>When using several embedded scenes with mlab, you should be very careful
always to pass the scene you want to use for plotting to the mlab
function used, elsewhere it uses the current scene. In this example,
failing to do so would result in only one scene being used, the last
one created.</p>
<p>The trick is to use the &#8216;mayavi_scene&#8217; attribute of the MlabSceneModel,
and pass it as a keyword argument to the mlab functions.</p>
<p>For more examples on embedding mlab scenes in dialog, see also:
the examples <a class="reference internal" href="example_mlab_interactive_dialog.html#example-mlab-interactive-dialog"><em>Mlab interactive dialog example</em></a>, and
<a class="reference internal" href="example_lorenz_ui.html#example-lorenz-ui"><em>Lorenz ui example</em></a>, as well as the section of the user manual
<a class="reference internal" href="../building_applications.html#embedding-mayavi-traits"><em>Embedding a Mayavi scene in a Traits dialog</em></a>.</p>
<p><strong>Python source code:</strong> <a class="reference download internal" href="../_downloads/multiple_mlab_scene_models2.py"><tt class="xref download docutils literal"><span class="pre">multiple_mlab_scene_models.py</span></tt></a></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">enthought.traits.api</span> <span class="kn">import</span> <span class="n">HasTraits</span><span class="p">,</span> <span class="n">Instance</span><span class="p">,</span> <span class="n">Button</span><span class="p">,</span> \
    <span class="n">on_trait_change</span>
<span class="kn">from</span> <span class="nn">enthought.traits.ui.api</span> <span class="kn">import</span> <span class="n">View</span><span class="p">,</span> <span class="n">Item</span><span class="p">,</span> <span class="n">HSplit</span><span class="p">,</span> <span class="n">Group</span>

<span class="kn">from</span> <span class="nn">enthought.mayavi</span> <span class="kn">import</span> <span class="n">mlab</span>
<span class="kn">from</span> <span class="nn">enthought.mayavi.core.ui.api</span> <span class="kn">import</span> <span class="n">MlabSceneModel</span><span class="p">,</span> <span class="n">SceneEditor</span>


<span class="k">class</span> <span class="nc">MyDialog</span><span class="p">(</span><span class="n">HasTraits</span><span class="p">):</span>

    <span class="n">scene1</span> <span class="o">=</span> <span class="n">Instance</span><span class="p">(</span><span class="n">MlabSceneModel</span><span class="p">,</span> <span class="p">())</span>
    <span class="n">scene2</span> <span class="o">=</span> <span class="n">Instance</span><span class="p">(</span><span class="n">MlabSceneModel</span><span class="p">,</span> <span class="p">())</span>

    <span class="n">button1</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="s">&#39;Redraw&#39;</span><span class="p">)</span>
    <span class="n">button2</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="s">&#39;Redraw&#39;</span><span class="p">)</span>

    <span class="nd">@on_trait_change</span><span class="p">(</span><span class="s">&#39;button1&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">redraw_scene1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">redraw_scene</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scene1</span><span class="p">)</span>

    <span class="nd">@on_trait_change</span><span class="p">(</span><span class="s">&#39;button2&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">redraw_scene2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">redraw_scene</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scene2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">redraw_scene</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene</span><span class="p">):</span>
        <span class="c"># Notice how each mlab call points explicitely to the figure it</span>
        <span class="c"># applies to.</span>
        <span class="n">mlab</span><span class="o">.</span><span class="n">clf</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="n">scene</span><span class="o">.</span><span class="n">mayavi_scene</span><span class="p">)</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
        <span class="n">mlab</span><span class="o">.</span><span class="n">points3d</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">figure</span><span class="o">=</span><span class="n">scene</span><span class="o">.</span><span class="n">mayavi_scene</span><span class="p">)</span>

    <span class="c"># The layout of the dialog created</span>
    <span class="n">view</span> <span class="o">=</span> <span class="n">View</span><span class="p">(</span><span class="n">HSplit</span><span class="p">(</span>
                  <span class="n">Group</span><span class="p">(</span>
                       <span class="n">Item</span><span class="p">(</span><span class="s">&#39;scene1&#39;</span><span class="p">,</span>
                            <span class="n">editor</span><span class="o">=</span><span class="n">SceneEditor</span><span class="p">(),</span> <span class="n">height</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span>
                            <span class="n">width</span><span class="o">=</span><span class="mi">300</span><span class="p">),</span>
                       <span class="s">&#39;button1&#39;</span><span class="p">,</span>
                       <span class="n">show_labels</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                  <span class="p">),</span>
                  <span class="n">Group</span><span class="p">(</span>
                       <span class="n">Item</span><span class="p">(</span><span class="s">&#39;scene2&#39;</span><span class="p">,</span>
                            <span class="n">editor</span><span class="o">=</span><span class="n">SceneEditor</span><span class="p">(),</span> <span class="n">height</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span>
                            <span class="n">width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">show_label</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>
                       <span class="s">&#39;button2&#39;</span><span class="p">,</span>
                       <span class="n">show_labels</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                  <span class="p">),</span>
                <span class="p">),</span>
                <span class="n">resizable</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                <span class="p">)</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">MyDialog</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">configure_traits</span><span class="p">()</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/mayavi-logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="example_multiple_engines.html"
                        title="previous chapter">Multiple engines example</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="example_mlab_interactive_dialog.html"
                        title="next chapter">Mlab interactive dialog example</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/auto/example_multiple_mlab_scene_models.txt"
           rel="nofollow">Show Source</a></li>
  </ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
    <div id="searchbox">
	<h3>Google Search</h3>
    <form method="get" action="http://www.google.com/search">

    <table border="0" cellpadding="0">
    <tr><td>
    <input type="text"   name="q" size="20"
    maxlength="255" value="" />
    <input type="submit" value="Go" /></td></tr>
    <tr><td align="center" style="font-size:75%; color: #FFFFFF;">
    <input type="checkbox"  name="sitesearch"
    value="http://github.enthought.com/mayavi/mayavi/" checked /> only search Mayavi documentation<br />
    </td></tr></table>

    </form>
    </div>
    <hr/>
    <div id="searchbox">
	<a href="misc.html#citing-mayavi"><h3>Citing Mayavi</h3></a>

	<p style="font-size:85%; color: #FFFFFF;">
    	If you publish articles using Mayavi, please 
	<strong><a href="misc.html#citing-mayavi">cite
	Mayavi</a></strong>. We need
	these citations to justify time and resources on the software.
	</p>
    </div>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="example_mlab_interactive_dialog.html" title="Mlab interactive dialog example"
             >next</a> |</li>
        <li class="right" >
          <a href="example_multiple_engines.html" title="Multiple engines example"
             >previous</a> |</li>
        <li><a href="../index.html">Mayavi 3.4.2 documentation</a> &raquo;</li>
          <li><a href="examples.html" >Example gallery</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-2010, Prabhu Ramachandran, Gaël Varoquaux.
      Last updated on Mar 26, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1pre/ce4bb37a1409.
    </div>
  </body>
</html>