
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Offscreen example &#8212; mayavi 4.7.2 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Surf regular mlab example" href="example_surf_regular_mlab.html" />
    <link rel="prev" title="Polydata example" href="example_polydata.html" />
<style type="text/css">
  body {
    /* Very bottom copyright, etc. info */
    background: #4d598d;
  }

  .documentwrapper {
    /* Blank area on left bar */
    background: #24326e;
  }

  .related {
    /* Long horizontal nav bars */
    background: #3c4b8a!important;
  }

  .sphinxsidebarwrapper {
    /* Filled part of left sidebar */
    background: #24326e;
  }

  a {
    color: #253370;
  }

  .sphinxsidebarwrapper a {
    color: #f2f2f2!important;
  }
</style>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="example_surf_regular_mlab.html" title="Surf regular mlab example"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="example_polydata.html" title="Polydata example"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">mayavi 4.7.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="examples.html" accesskey="U">Example gallery</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="offscreen-example">
<span id="example-offscreen"></span><h1>Offscreen example<a class="headerlink" href="#offscreen-example" title="Permalink to this headline">Â¶</a></h1>
<p>A simple example of how you can use Mayavi without using Envisage
or the Mayavi Envisage application and do off screen rendering.</p>
<p>On Linux/Mac, with VTK &lt; 5.2, you should see a small black window popup
and disappear, see the section <a class="reference internal" href="../tips.html#offscreen-rendering"><span class="std std-ref">Off screen rendering</span></a> to avoid this.
On Win32 you will not see any windows popping up at all. In the end you
should have an offscreen.png image in the same directory with the
rendered visualization.</p>
<p>It can be run as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">$ python offscreen.py</span>
</pre></div>
</div>
<p><strong>Python source code:</strong> <a class="reference download internal" download="" href="../_downloads/6035df628b856cd4004dae3cc2a23580/offscreen.py"><code class="xref download docutils literal notranslate"><span class="pre">offscreen.py</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="s2"># Author: Prabhu Ramachandran &lt;prabhu@aero.iitb.ac.in&gt;</span>
<span class="s2"># Copyright (c) 2007, Enthought, Inc.</span>
<span class="s2"># License: BSD Style.</span>

<span class="s2">from os.path import join, abspath, dirname</span>

<span class="s2"># The offscreen Engine.</span>
<span class="s2">from mayavi.api import OffScreenEngine</span>

<span class="s2"># Usual MayaVi imports</span>
<span class="s2">from mayavi.scripts.util import get_data_dir</span>
<span class="s2">from mayavi.sources.api import VTKXMLFileReader</span>
<span class="s2">from mayavi.modules.api import Outline, ScalarCutPlane, Streamline</span>


<span class="s2">def main():</span>
<span class="s2">    # Create the MayaVi offscreen engine and start it.</span>
<span class="s2">    e = OffScreenEngine()</span>
<span class="s2">    # Starting the engine registers the engine with the registry and</span>
<span class="s2">    # notifies others that the engine is ready.</span>
<span class="s2">    e.start()</span>

<span class="s2">    # Create a new scene.</span>
<span class="s2">    win = e.new_scene()</span>

<span class="s2">    # Now setup a normal MayaVi pipeline.</span>
<span class="s2">    src = VTKXMLFileReader()</span>
<span class="s2">    src.initialize(join(get_data_dir(dirname(abspath(__file__))),</span>
<span class="s2">                        &#39;fire_ug.vtu&#39;))</span>
<span class="s2">    e.add_source(src)</span>
<span class="s2">    e.add_module(Outline())</span>
<span class="s2">    e.add_module(ScalarCutPlane())</span>
<span class="s2">    e.add_module(Streamline())</span>
<span class="s2">    win.scene.isometric_view()</span>
<span class="s2">    # Change the size argument to anything you want.</span>
<span class="s2">    win.scene.save(&#39;offscreen.png&#39;, size=(800, 800))</span>


<span class="s2">if __name__ == &#39;__main__&#39;:</span>
<span class="s2">    main()</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/mayavi-logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="example_polydata.html"
                        title="previous chapter">Polydata example</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="example_surf_regular_mlab.html"
                        title="next chapter">Surf regular mlab example</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/auto/example_offscreen.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="example_surf_regular_mlab.html" title="Surf regular mlab example"
             >next</a> |</li>
        <li class="right" >
          <a href="example_polydata.html" title="Polydata example"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">mayavi 4.7.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="examples.html" >Example gallery</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2018, Enthought Inc..
      Last updated on Aug 31, 2020.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>