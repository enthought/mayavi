<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Assembling pipelines with mlab &#8212; mayavi 4.8.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css?v=2bf1fcf8" />
    
    <script src="_static/documentation_options.js?v=3cb42dc4"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<style type="text/css">
  body {
    /* Very bottom copyright, etc. info */
    background: #4d598d;
  }

  .documentwrapper {
    /* Blank area on left bar */
    background: #24326e;
  }

  .related {
    /* Long horizontal nav bars */
    background: #3c4b8a!important;
  }

  .sphinxsidebarwrapper {
    /* Filled part of left sidebar */
    background: #24326e;
  }

  a {
    color: #253370;
  }

  .sphinxsidebarwrapper a {
    color: #f2f2f2!important;
  }
</style>

  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">mayavi 4.8.3 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Assembling pipelines with <cite>mlab</cite></a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="assembling-pipelines-with-mlab">
<span id="controlling-the-pipeline-with-mlab-scripts"></span><h1>Assembling pipelines with <cite>mlab</cite><a class="headerlink" href="#assembling-pipelines-with-mlab" title="Link to this heading">¶</a></h1>
<p>The plotting functions reviewed above explore only a small fraction of
the visualization possibilities of Mayavi. The full power of Mayavi can
only be unleashed through the control of the pipeline itself. As
described in the <a class="reference internal" href="overview.html#an-overview-of-mayavi"><span class="std std-ref">An overview of Mayavi</span></a> section, a visualization in
Mayavi is created by loading the data in Mayavi with <cite>data source</cite>
object, optionally transforming the data through <a class="reference internal" href="filters.html#filters"><span class="std std-ref">Filters</span></a>, and
visualizing it with <a class="reference internal" href="modules.html#modules"><span class="std std-ref">Modules</span></a>. The mlab functions build complex
pipelines for you in one function, making the right choice of sources,
filters, and modules, but they cannot explore all the possible
combinations.</p>
<p>Mlab provides a sub-module <cite>pipeline</cite> which contains functions to populate
the pipeline easily from scripts. This module is accessible in <cite>mlab</cite>:
<cite>mlab.pipeline</cite>, or can be imported from
<cite>mayavi.tools.pipeline</cite>.</p>
<p>When using an <cite>mlab</cite> plotting function, a pipeline is created: first a
source is created from <cite>numpy</cite> arrays, then modules, and possibly
filters, are added. The resulting pipeline can be seen for instance with
the <cite>mlab.show_pipeline</cite> command. This information can be used to create
the very same pipeline directly using the <cite>pipeline</cite> scripting module, as
the names of the functions required to create each step of the pipeline
are directly linked to the default names of the objects created by <cite>mlab</cite>
on the pipeline. As an example, let us create a visualization using
<code class="xref py py-func docutils literal notranslate"><span class="pre">surf()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mayavi</span><span class="w"> </span><span class="kn">import</span> <span class="n">mlab</span>
<span class="n">mlab</span><span class="o">.</span><span class="n">surf</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">mlab</span><span class="o">.</span><span class="n">show_pipeline</span><span class="p">()</span>
</pre></div>
</div>
<p>The following pipeline is created:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Array2DSource</span>
    \<span class="n">__</span> <span class="n">WarpScalar</span>
            \<span class="n">__</span> <span class="n">PolyDataNormals</span>
                    \<span class="n">__</span> <span class="n">Colors</span> <span class="ow">and</span> <span class="n">legends</span>
                            \<span class="n">__</span> <span class="n">Surface</span>
</pre></div>
</div>
<p>The same pipeline can be created using the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">src</span> <span class="o">=</span> <span class="n">mlab</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">array2d_source</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">warp</span> <span class="o">=</span> <span class="n">mlab</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">warp_scalar</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
<span class="n">normals</span> <span class="o">=</span> <span class="n">mlab</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">poly_data_normals</span><span class="p">(</span><span class="n">warp</span><span class="p">)</span>
<span class="n">surf</span> <span class="o">=</span> <span class="n">mlab</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">surface</span><span class="p">(</span><span class="n">normals</span><span class="p">)</span>
</pre></div>
</div>
<section id="data-sources">
<span id="mlab-data-source"></span><h2>Data sources<a class="headerlink" href="#data-sources" title="Link to this heading">¶</a></h2>
<p>The <cite>mlab.pipeline</cite> module contains functions for creating various data
sources from arrays. They are fully documented in details in the
<a class="reference internal" href="mlab_pipeline_reference.html#mlab-pipeline-reference"><span class="std std-ref">Mlab pipeline-control reference</span></a>. We give a small summary of the
possibilities here.</p>
<p>Mayavi distinguishes sources with <strong>scalar data</strong>, and sources with
<strong>vector data</strong>, but more important, it has different functions to create
sets of <strong>unconnected points</strong>, with data attached to them, or
<strong>connected data points</strong> describing continuously varying quantities that
can be interpolated between data points, often called <cite>fields</cite> in physics
or engineering.</p>
<dl class="field-list">
<dt class="field-odd">Unconnected sources<span class="colon">:</span></dt>
<dd class="field-odd"><table class="hlist"><tr><td><ul>
<li><p><a class="reference internal" href="auto/mlab_pipeline_sources.html#mayavi.tools.pipeline.scalar_scatter" title="mayavi.tools.pipeline.scalar_scatter"><code class="xref py py-func docutils literal notranslate"><span class="pre">scalar_scatter()</span></code></a> (creates a <a class="reference internal" href="data.html#poly-data"><span class="std std-ref">PolyData</span></a>)</p>
<a class="reference internal image-reference" href="_images/enthought_mayavi_mlab_points3d.jpg"><img alt="_images/enthought_mayavi_mlab_points3d.jpg" src="_images/enthought_mayavi_mlab_points3d.jpg" style="width: 121.98px; height: 122.36px;" />
</a>
</li>
</ul>
</td><td><ul>
<li><p><a class="reference internal" href="auto/mlab_pipeline_sources.html#mayavi.tools.pipeline.vector_scatter" title="mayavi.tools.pipeline.vector_scatter"><code class="xref py py-func docutils literal notranslate"><span class="pre">vector_scatter()</span></code></a> (creates an <a class="reference internal" href="data.html#poly-data"><span class="std std-ref">PolyData</span></a>)</p>
<a class="reference internal image-reference" href="_images/enthought_mayavi_mlab_quiver3d.jpg"><img alt="_images/enthought_mayavi_mlab_quiver3d.jpg" src="_images/enthought_mayavi_mlab_quiver3d.jpg" style="width: 135.20000000000002px; height: 141.6px;" />
</a>
</li>
</ul>
</td></tr></table>
</dd>
<dt class="field-even">implicitly-connected sources<span class="colon">:</span></dt>
<dd class="field-even"><table class="hlist"><tr><td><ul>
<li><p><a class="reference internal" href="auto/mlab_pipeline_sources.html#mayavi.tools.pipeline.scalar_field" title="mayavi.tools.pipeline.scalar_field"><code class="xref py py-func docutils literal notranslate"><span class="pre">scalar_field()</span></code></a> (creates an <a class="reference internal" href="data.html#image-data"><span class="std std-ref">ImageData</span></a>)</p>
<a class="reference internal image-reference" href="_images/enthought_mayavi_mlab_contour3d.jpg"><img alt="_images/enthought_mayavi_mlab_contour3d.jpg" src="_images/enthought_mayavi_mlab_contour3d.jpg" style="width: 140.22px; height: 128.44px;" />
</a>
</li>
<li><p><a class="reference internal" href="auto/mlab_pipeline_sources.html#mayavi.tools.pipeline.vector_field" title="mayavi.tools.pipeline.vector_field"><code class="xref py py-func docutils literal notranslate"><span class="pre">vector_field()</span></code></a> (creates an <a class="reference internal" href="data.html#image-data"><span class="std std-ref">ImageData</span></a>)</p>
<a class="reference internal image-reference" href="_images/enthought_mayavi_mlab_flow.jpg"><img alt="_images/enthought_mayavi_mlab_flow.jpg" src="_images/enthought_mayavi_mlab_flow.jpg" style="width: 169.0px; height: 105.0px;" />
</a>
</li>
</ul>
</td><td><ul>
<li><p><a class="reference internal" href="auto/mlab_pipeline_sources.html#mayavi.tools.pipeline.array2d_source" title="mayavi.tools.pipeline.array2d_source"><code class="xref py py-func docutils literal notranslate"><span class="pre">array2d_source()</span></code></a> (creates an <a class="reference internal" href="data.html#image-data"><span class="std std-ref">ImageData</span></a>)</p>
<a class="reference internal image-reference" href="_images/enthought_mayavi_mlab_imshow.jpg"><img alt="_images/enthought_mayavi_mlab_imshow.jpg" src="_images/enthought_mayavi_mlab_imshow.jpg" style="width: 180.0px; height: 116.10000000000001px;" />
</a>
</li>
</ul>
</td></tr></table>
</dd>
<dt class="field-odd">Explicitly-connected sources<span class="colon">:</span></dt>
<dd class="field-odd"><table class="hlist"><tr><td><ul>
<li><p><a class="reference internal" href="auto/mlab_pipeline_sources.html#mayavi.tools.pipeline.line_source" title="mayavi.tools.pipeline.line_source"><code class="xref py py-func docutils literal notranslate"><span class="pre">line_source()</span></code></a> (creates an <a class="reference internal" href="data.html#poly-data"><span class="std std-ref">PolyData</span></a>)</p>
<a class="reference internal image-reference" href="_images/enthought_mayavi_mlab_plot3d.jpg"><img alt="_images/enthought_mayavi_mlab_plot3d.jpg" src="_images/enthought_mayavi_mlab_plot3d.jpg" style="width: 153.0px; height: 113.0px;" />
</a>
</li>
</ul>
</td><td><ul>
<li><p><a class="reference internal" href="auto/mlab_pipeline_sources.html#mayavi.tools.pipeline.triangular_mesh_source" title="mayavi.tools.pipeline.triangular_mesh_source"><code class="xref py py-func docutils literal notranslate"><span class="pre">triangular_mesh_source()</span></code></a> (creates an <a class="reference internal" href="data.html#poly-data"><span class="std std-ref">PolyData</span></a>)</p>
<a class="reference internal image-reference" href="_images/poly_data.jpg"><img alt="_images/poly_data.jpg" src="_images/poly_data.jpg" style="width: 152.0px; height: 121.6px;" />
</a>
</li>
</ul>
</td></tr></table>
</dd>
</dl>
<p>All the <cite>mlab.pipline</cite> source factories are functions that take numpy
arrays and return the Mayavi source object that was added to the
pipeline. However, the implicitly-connected sources require well-shaped
arrays as arguments: the data is supposed to lie on a regular,
orthogonal, grid of the same shape as the shape of the input array, in
other words, the array describes an image, possibly 3 dimensional.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>More complicated data structures can be created, such as irregular
grids or non-orthogonal grid. See
<a class="reference internal" href="data.html#data-structures-used-by-mayavi"><span class="std std-ref">the section on data structures</span></a>.</p>
</div>
</section>
<section id="modules-and-filters">
<h2>Modules and filters<a class="headerlink" href="#modules-and-filters" title="Link to this heading">¶</a></h2>
<p>For each Mayavi module or filter (see <a class="reference internal" href="modules.html#modules"><span class="std std-ref">Modules</span></a> and <a class="reference internal" href="filters.html#filters"><span class="std std-ref">Filters</span></a>),
there is a corresponding <cite>mlab.pipeline</cite> function. The name of this
function is created by replacing the alternating capitals in the module
or filter name by underscores. Thus <cite>ScalarCutPlane</cite> corresponds to
<cite>scalar_cut_plane</cite>.</p>
<p>In general, the <cite>mlab.pipeline</cite> module and filter factory functions
simply create and connect the corresponding object. However they can also
contain addition logic, exposed as keyword arguments. For instance they
allow to set up easily a colormap, or to specify the color of the module,
when relevant. In accordance with the goal of the <cite>mlab</cite> interface to
make frequent operations simple, they use the keyword arguments to choose
the properties of the created object to suit the requirements. It can
be thus easier to use the keyword arguments, when available, than to set
the attributes of the objects created. For more information, please check
out the docstrings. Full, detailed, usage examples are given in the next
subsection.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/mayavi-logo.png" alt="Logo of mayavi"/>
            </a></p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Assembling pipelines with <cite>mlab</cite></a><ul>
<li><a class="reference internal" href="#data-sources">Data sources</a></li>
<li><a class="reference internal" href="#modules-and-filters">Modules and filters</a></li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/mlab_pipeline.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">mayavi 4.8.3 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Assembling pipelines with <cite>mlab</cite></a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2008-2018, Enthought Inc..
      Last updated on May 16, 2025.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>